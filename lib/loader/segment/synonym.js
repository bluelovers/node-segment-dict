"use strict";
/**
 * Created by user on 2018/3/14/014.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const _class_1 = require("../_class");
const libLoader = new _class_1.LoaderClass({
    parseLine(input) {
        let ret = input
            .replace(/^\s+|\s+$/, '')
            .split(',');
        if (ret.length < 2) {
            throw new ReferenceError(`${input}`);
        }
        return ret.map(function (s) {
            s = s
                .replace(/^\s+|\s+$/, '')
                .trim();
            if (s == '') {
                throw new ReferenceError(`${input}`);
            }
            return s;
        });
    },
    filter(line) {
        line = line
            .replace(/\uFEFF/g, '')
            .trim()
            .replace(/^\s+|\s+$/, '');
        if (line && line.indexOf('\/\/') != 0) {
            return line;
        }
    },
});
exports.load = libLoader.load;
exports.loadSync = libLoader.loadSync;
exports.loadStream = libLoader.loadStream;
exports.loadStreamSync = libLoader.loadStreamSync;
exports.parseLine = libLoader.parseLine;
exports.stringifyLine = libLoader.stringifyLine;
exports.serialize = libLoader.serialize;
exports.Loader = libLoader;
exports.default = libLoader.load;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lub255bS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInN5bm9ueW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOztHQUVHOztBQU1ILHNDQUF3QztBQUt4QyxNQUFNLFNBQVMsR0FBRyxJQUFJLG9CQUFXLENBQWtCO0lBQ2xELFNBQVMsQ0FBQyxLQUFhO1FBRXRCLElBQUksR0FBRyxHQUFHLEtBQUs7YUFDYixPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQzthQUN4QixLQUFLLENBQUMsR0FBRyxDQUFDLENBQ1g7UUFFRCxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUNsQjtZQUNDLE1BQU0sSUFBSSxjQUFjLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1NBQ3JDO1FBRUQsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBUztZQUVqQyxDQUFDLEdBQUcsQ0FBQztpQkFDSCxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQztpQkFDeEIsSUFBSSxFQUFFLENBQ1A7WUFFRCxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQ1g7Z0JBQ0MsTUFBTSxJQUFJLGNBQWMsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLENBQUM7YUFDckM7WUFFRCxPQUFPLENBQUMsQ0FBQztRQUNWLENBQUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUVELE1BQU0sQ0FBQyxJQUFZO1FBRWxCLElBQUksR0FBRyxJQUFJO2FBQ1QsT0FBTyxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUM7YUFDdEIsSUFBSSxFQUFFO2FBQ04sT0FBTyxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FDekI7UUFFRCxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFDckM7WUFDQyxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztDQUVELENBQUMsQ0FBQztBQUVVLFFBQUEsSUFBSSxHQUFHLFNBQVMsQ0FBQyxJQUE2QixDQUFDO0FBQy9DLFFBQUEsUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFxQyxDQUFDO0FBRTNELFFBQUEsVUFBVSxHQUFHLFNBQVMsQ0FBQyxVQUF5QyxDQUFDO0FBQ2pFLFFBQUEsY0FBYyxHQUFHLFNBQVMsQ0FBQyxjQUFpRCxDQUFDO0FBRTdFLFFBQUEsU0FBUyxHQUFHLFNBQVMsQ0FBQyxTQUF1QyxDQUFDO0FBQzlELFFBQUEsYUFBYSxHQUFHLFNBQVMsQ0FBQyxhQUErQyxDQUFDO0FBRTFFLFFBQUEsU0FBUyxHQUFHLFNBQVMsQ0FBQyxTQUF1QyxDQUFDO0FBRTlELFFBQUEsTUFBTSxHQUFHLFNBQVMsQ0FBQztBQUVoQyxrQkFBZSxTQUFTLENBQUMsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHVzZXIgb24gMjAxOC8zLzE0LzAxNC5cbiAqL1xuXG5pbXBvcnQgeyB3cmFwU3RyZWFtVG9Qcm9taXNlLCBJU3RyZWFtTGluZVdpdGhWYWx1ZSB9IGZyb20gJy4uLy4uL2ZzL2xpbmUnO1xuaW1wb3J0ICogYXMgUHJvbWlzZSBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgY3JlYXRlTG9hZFN0cmVhbSwgeyBJQ2FsbGJhY2sgfSBmcm9tICcuLi8uLi9mcy9zdHJlYW0nO1xuaW1wb3J0IGNyZWF0ZUxvYWRTdHJlYW1TeW5jIGZyb20gJy4uLy4uL2ZzL3N5bmMnO1xuaW1wb3J0IHsgTG9hZGVyQ2xhc3MgfSBmcm9tICcuLi9fY2xhc3MnO1xuXG5leHBvcnQgdHlwZSBJRGljdFJvdyA9IHN0cmluZ1tdO1xuZXhwb3J0IHR5cGUgSURpY3QgPSBJRGljdFJvd1tdO1xuXG5jb25zdCBsaWJMb2FkZXIgPSBuZXcgTG9hZGVyQ2xhc3M8SURpY3QsIElEaWN0Um93Pih7XG5cdHBhcnNlTGluZShpbnB1dDogc3RyaW5nKTogSURpY3RSb3dcblx0e1xuXHRcdGxldCByZXQgPSBpbnB1dFxuXHRcdFx0LnJlcGxhY2UoL15cXHMrfFxccyskLywgJycpXG5cdFx0XHQuc3BsaXQoJywnKVxuXHRcdDtcblxuXHRcdGlmIChyZXQubGVuZ3RoIDwgMilcblx0XHR7XG5cdFx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoYCR7aW5wdXR9YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldC5tYXAoZnVuY3Rpb24gKHM6IHN0cmluZylcblx0XHR7XG5cdFx0XHRzID0gc1xuXHRcdFx0XHQucmVwbGFjZSgvXlxccyt8XFxzKyQvLCAnJylcblx0XHRcdFx0LnRyaW0oKVxuXHRcdFx0O1xuXG5cdFx0XHRpZiAocyA9PSAnJylcblx0XHRcdHtcblx0XHRcdFx0dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKGAke2lucHV0fWApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcztcblx0XHR9KTtcblx0fSxcblxuXHRmaWx0ZXIobGluZTogc3RyaW5nKVxuXHR7XG5cdFx0bGluZSA9IGxpbmVcblx0XHRcdC5yZXBsYWNlKC9cXHVGRUZGL2csICcnKVxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cXHMrfFxccyskLywgJycpXG5cdFx0O1xuXG5cdFx0aWYgKGxpbmUgJiYgbGluZS5pbmRleE9mKCdcXC9cXC8nKSAhPSAwKVxuXHRcdHtcblx0XHRcdHJldHVybiBsaW5lO1xuXHRcdH1cblx0fSxcblxufSk7XG5cbmV4cG9ydCBjb25zdCBsb2FkID0gbGliTG9hZGVyLmxvYWQgYXMgdHlwZW9mIGxpYkxvYWRlci5sb2FkO1xuZXhwb3J0IGNvbnN0IGxvYWRTeW5jID0gbGliTG9hZGVyLmxvYWRTeW5jIGFzIHR5cGVvZiBsaWJMb2FkZXIubG9hZFN5bmM7XG5cbmV4cG9ydCBjb25zdCBsb2FkU3RyZWFtID0gbGliTG9hZGVyLmxvYWRTdHJlYW0gYXMgdHlwZW9mIGxpYkxvYWRlci5sb2FkU3RyZWFtO1xuZXhwb3J0IGNvbnN0IGxvYWRTdHJlYW1TeW5jID0gbGliTG9hZGVyLmxvYWRTdHJlYW1TeW5jIGFzIHR5cGVvZiBsaWJMb2FkZXIubG9hZFN0cmVhbVN5bmM7XG5cbmV4cG9ydCBjb25zdCBwYXJzZUxpbmUgPSBsaWJMb2FkZXIucGFyc2VMaW5lIGFzIHR5cGVvZiBsaWJMb2FkZXIucGFyc2VMaW5lO1xuZXhwb3J0IGNvbnN0IHN0cmluZ2lmeUxpbmUgPSBsaWJMb2FkZXIuc3RyaW5naWZ5TGluZSBhcyB0eXBlb2YgbGliTG9hZGVyLnN0cmluZ2lmeUxpbmU7XG5cbmV4cG9ydCBjb25zdCBzZXJpYWxpemUgPSBsaWJMb2FkZXIuc2VyaWFsaXplIGFzIHR5cGVvZiBsaWJMb2FkZXIuc2VyaWFsaXplO1xuXG5leHBvcnQgY29uc3QgTG9hZGVyID0gbGliTG9hZGVyO1xuXG5leHBvcnQgZGVmYXVsdCBsaWJMb2FkZXIubG9hZDtcbiJdfQ==