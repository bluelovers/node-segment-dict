"use strict";
/**
 * Created by user on 2018/3/14/014.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const _class_1 = require("../_class");
const libLoader = new _class_1.LoaderClass({
    parseLine(input) {
        let ret = input
            .replace(/^\s+|\s+$/, '')
            .split(',');
        if (ret.length < 2) {
            throw new ReferenceError(`${input}`);
        }
        return ret.map(function (s) {
            s = s
                .replace(/^\s+|\s+$/, '')
                .trim();
            if (s == '') {
                throw new ReferenceError(`${input}`);
            }
            return s;
        });
    },
    filter(line) {
        line = line
            .replace(/\uFEFF/g, '')
            .trim()
            .replace(/^\s+|\s+$/, '');
        if (line && line.indexOf('\/\/') != 0) {
            return line;
        }
    },
});
exports.load = libLoader.load;
exports.loadSync = libLoader.loadSync;
exports.loadStream = libLoader.loadStream;
exports.loadStreamSync = libLoader.loadStreamSync;
exports.parseLine = libLoader.parseLine;
exports.stringifyLine = libLoader.stringifyLine;
exports.serialize = libLoader.serialize;
exports.Loader = libLoader;
exports.default = libLoader.load;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lub255bS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInN5bm9ueW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOztHQUVHOztBQU1ILHNDQUF3QztBQUt4QyxNQUFNLFNBQVMsR0FBRyxJQUFJLG9CQUFXLENBQWtCO0lBQ2xELFNBQVMsQ0FBQyxLQUFhO1FBRXRCLElBQUksR0FBRyxHQUFHLEtBQUs7YUFDYixPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQzthQUN4QixLQUFLLENBQUMsR0FBRyxDQUFDLENBQ1g7UUFFRCxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUNsQjtZQUNDLE1BQU0sSUFBSSxjQUFjLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1NBQ3JDO1FBRUQsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBUztZQUVqQyxDQUFDLEdBQUcsQ0FBQztpQkFDSCxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQztpQkFDeEIsSUFBSSxFQUFFLENBQ1A7WUFFRCxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQ1g7Z0JBQ0MsTUFBTSxJQUFJLGNBQWMsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLENBQUM7YUFDckM7WUFFRCxPQUFPLENBQUMsQ0FBQztRQUNWLENBQUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUVELE1BQU0sQ0FBQyxJQUFZO1FBRWxCLElBQUksR0FBRyxJQUFJO2FBQ1QsT0FBTyxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUM7YUFDdEIsSUFBSSxFQUFFO2FBQ04sT0FBTyxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FDekI7UUFFRCxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFDckM7WUFDQyxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztDQUVELENBQUMsQ0FBQztBQUVVLFFBQUEsSUFBSSxHQUFHLFNBQVMsQ0FBQyxJQUE2QixDQUFDO0FBQy9DLFFBQUEsUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFxQyxDQUFDO0FBRTNELFFBQUEsVUFBVSxHQUFHLFNBQVMsQ0FBQyxVQUF5QyxDQUFDO0FBQ2pFLFFBQUEsY0FBYyxHQUFHLFNBQVMsQ0FBQyxjQUFpRCxDQUFDO0FBRTdFLFFBQUEsU0FBUyxHQUFHLFNBQVMsQ0FBQyxTQUF1QyxDQUFDO0FBQzlELFFBQUEsYUFBYSxHQUFHLFNBQVMsQ0FBQyxhQUErQyxDQUFDO0FBRTFFLFFBQUEsU0FBUyxHQUFHLFNBQVMsQ0FBQyxTQUF1QyxDQUFDO0FBRTlELFFBQUEsTUFBTSxHQUFHLFNBQVMsQ0FBQztBQUVoQyxrQkFBZSxTQUFTLENBQUMsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHVzZXIgb24gMjAxOC8zLzE0LzAxNC5cbiAqL1xuXG5pbXBvcnQgeyB3cmFwU3RyZWFtVG9Qcm9taXNlLCBJU3RyZWFtTGluZVdpdGhWYWx1ZSB9IGZyb20gJy4uLy4uL2ZzL2xpbmUnO1xuaW1wb3J0IFByb21pc2UgPSByZXF1aXJlKCdibHVlYmlyZCcpO1xuaW1wb3J0IGNyZWF0ZUxvYWRTdHJlYW0sIHsgSUNhbGxiYWNrIH0gZnJvbSAnLi4vLi4vZnMvc3RyZWFtJztcbmltcG9ydCBjcmVhdGVMb2FkU3RyZWFtU3luYyBmcm9tICcuLi8uLi9mcy9zeW5jJztcbmltcG9ydCB7IExvYWRlckNsYXNzIH0gZnJvbSAnLi4vX2NsYXNzJztcblxuZXhwb3J0IHR5cGUgSURpY3RSb3cgPSBzdHJpbmdbXTtcbmV4cG9ydCB0eXBlIElEaWN0ID0gSURpY3RSb3dbXTtcblxuY29uc3QgbGliTG9hZGVyID0gbmV3IExvYWRlckNsYXNzPElEaWN0LCBJRGljdFJvdz4oe1xuXHRwYXJzZUxpbmUoaW5wdXQ6IHN0cmluZyk6IElEaWN0Um93XG5cdHtcblx0XHRsZXQgcmV0ID0gaW5wdXRcblx0XHRcdC5yZXBsYWNlKC9eXFxzK3xcXHMrJC8sICcnKVxuXHRcdFx0LnNwbGl0KCcsJylcblx0XHQ7XG5cblx0XHRpZiAocmV0Lmxlbmd0aCA8IDIpXG5cdFx0e1xuXHRcdFx0dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKGAke2lucHV0fWApO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXQubWFwKGZ1bmN0aW9uIChzOiBzdHJpbmcpXG5cdFx0e1xuXHRcdFx0cyA9IHNcblx0XHRcdFx0LnJlcGxhY2UoL15cXHMrfFxccyskLywgJycpXG5cdFx0XHRcdC50cmltKClcblx0XHRcdDtcblxuXHRcdFx0aWYgKHMgPT0gJycpXG5cdFx0XHR7XG5cdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihgJHtpbnB1dH1gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHM7XG5cdFx0fSk7XG5cdH0sXG5cblx0ZmlsdGVyKGxpbmU6IHN0cmluZylcblx0e1xuXHRcdGxpbmUgPSBsaW5lXG5cdFx0XHQucmVwbGFjZSgvXFx1RkVGRi9nLCAnJylcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXFxzK3xcXHMrJC8sICcnKVxuXHRcdDtcblxuXHRcdGlmIChsaW5lICYmIGxpbmUuaW5kZXhPZignXFwvXFwvJykgIT0gMClcblx0XHR7XG5cdFx0XHRyZXR1cm4gbGluZTtcblx0XHR9XG5cdH0sXG5cbn0pO1xuXG5leHBvcnQgY29uc3QgbG9hZCA9IGxpYkxvYWRlci5sb2FkIGFzIHR5cGVvZiBsaWJMb2FkZXIubG9hZDtcbmV4cG9ydCBjb25zdCBsb2FkU3luYyA9IGxpYkxvYWRlci5sb2FkU3luYyBhcyB0eXBlb2YgbGliTG9hZGVyLmxvYWRTeW5jO1xuXG5leHBvcnQgY29uc3QgbG9hZFN0cmVhbSA9IGxpYkxvYWRlci5sb2FkU3RyZWFtIGFzIHR5cGVvZiBsaWJMb2FkZXIubG9hZFN0cmVhbTtcbmV4cG9ydCBjb25zdCBsb2FkU3RyZWFtU3luYyA9IGxpYkxvYWRlci5sb2FkU3RyZWFtU3luYyBhcyB0eXBlb2YgbGliTG9hZGVyLmxvYWRTdHJlYW1TeW5jO1xuXG5leHBvcnQgY29uc3QgcGFyc2VMaW5lID0gbGliTG9hZGVyLnBhcnNlTGluZSBhcyB0eXBlb2YgbGliTG9hZGVyLnBhcnNlTGluZTtcbmV4cG9ydCBjb25zdCBzdHJpbmdpZnlMaW5lID0gbGliTG9hZGVyLnN0cmluZ2lmeUxpbmUgYXMgdHlwZW9mIGxpYkxvYWRlci5zdHJpbmdpZnlMaW5lO1xuXG5leHBvcnQgY29uc3Qgc2VyaWFsaXplID0gbGliTG9hZGVyLnNlcmlhbGl6ZSBhcyB0eXBlb2YgbGliTG9hZGVyLnNlcmlhbGl6ZTtcblxuZXhwb3J0IGNvbnN0IExvYWRlciA9IGxpYkxvYWRlcjtcblxuZXhwb3J0IGRlZmF1bHQgbGliTG9hZGVyLmxvYWQ7XG4iXX0=